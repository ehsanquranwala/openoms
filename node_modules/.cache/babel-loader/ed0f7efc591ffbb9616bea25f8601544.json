{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nms\\\\Desktop\\\\fish\\\\openoms\\\\src\\\\components\\\\Home.js\";\nimport React from \"react\";\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Container, Row, Button, Input, Col, Label } from 'reactstrap';\nimport { Link, Redirect } from \"react-router-dom\";\nimport SecureLS from 'secure-ls';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ls = new SecureLS({\n  encodingType: 'aes'\n});\n\nrequire('dotenv').config();\n\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product: [],\n      navigate: false\n    };\n  }\n\n  componentDidMount() {\n    this.getProduct();\n  }\n\n  getProduct() {\n    const token = ls.get('token');\n    fetch('https://www.weeklyfishclub.com/wp-json/wc/v3/products', {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(response => response.json()).then(json => {\n      if (json.length > 0) {\n        this.setState({\n          product: json\n        });\n      } else {\n        this.getGuestUser();\n      }\n    });\n  }\n\n  getGuestUser() {\n    let formData = new FormData();\n    formData.append('username', process.env.REACT_APP_WORDPRESS_USER_ID);\n    formData.append('password', 'k$bxWKLRM5');\n    fetch('https://www.weeklyfishclub.com/wp-json/jwt-auth/v1/token', {\n      method: 'POST',\n      body: formData\n    }).then(response => response.json()).then(json => {\n      if (json.token != undefined) {\n        ls.set('token', json.token);\n        this.getProduct();\n      } else {\n        alert(json.message);\n      }\n    });\n  }\n\n  setParam(id) {\n    ls.set('productId', id);\n    this.setState({\n      navigate: true\n    });\n  }\n\n  render() {\n    const {\n      navigate\n    } = this.state;\n\n    if (navigate) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/product\",\n        push: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 16\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        className: \"themed-container\",\n        fluid: \"sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Fishes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: this.state.product.map(product => /*#__PURE__*/_jsxDEV(Col, {\n            sm: \"3\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              children: /*#__PURE__*/_jsxDEV(CardBody, {\n                style: {\n                  backgroundColor: \"#f6f6f6\"\n                },\n                children: [product.images[0] ? /*#__PURE__*/_jsxDEV(CardImg, {\n                  onClick: () => {\n                    this.setParam(product.id);\n                  },\n                  top: true,\n                  width: \"20%\",\n                  style: {\n                    width: 200,\n                    height: 150\n                  },\n                  src: product.images[0].src,\n                  alt: \"Fish\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(CardTitle, {\n                  tag: \"h5\",\n                  children: [product.slug, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 36\n                }, this), /*#__PURE__*/_jsxDEV(CardTitle, {\n                  tag: \"h6\",\n                  color: \"blue\",\n                  children: [\"Rs. \", product.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 55\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/nms/Desktop/fish/openoms/src/components/Home.js"],"names":["React","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","Container","Row","Button","Input","Col","Label","Link","Redirect","SecureLS","ls","encodingType","require","config","Home","Component","constructor","props","state","product","navigate","componentDidMount","getProduct","token","get","fetch","method","headers","then","response","json","length","setState","getGuestUser","formData","FormData","append","process","env","REACT_APP_WORDPRESS_USER_ID","body","undefined","set","alert","message","setParam","id","render","marginTop","map","backgroundColor","images","width","height","src","slug","price"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,QAAxB,EAAkCC,QAAlC,EACEC,SADF,EACaC,YADb,EAC0BC,SAD1B,EACoCC,GADpC,EACwCC,MADxC,EAC+CC,KAD/C,EACqDC,GADrD,EACyDC,KADzD,QACqE,YADrE;AAEE,SACEC,IADF,EAEEC,QAFF,QAGO,kBAHP;AAIA,OAAOC,QAAP,MAAqB,WAArB;;AACA,IAAIC,EAAE,GAAG,IAAID,QAAJ,CAAa;AAACE,EAAAA,YAAY,EAAE;AAAf,CAAb,CAAT;;AACAC,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AACA,eAAe,MAAMC,IAAN,SAAmBpB,KAAK,CAACqB,SAAzB,CAAmC;AAChDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,OAAO,EAAC,EAAT;AACXC,MAAAA,QAAQ,EAAC;AADE,KAAb;AAGD;;AACDC,EAAAA,iBAAiB,GAAE;AACjB,SAAKC,UAAL;AACA;;AAEFA,EAAAA,UAAU,GAAE;AACV,UAAMC,KAAK,GAACb,EAAE,CAACc,GAAH,CAAO,OAAP,CAAZ;AACAC,IAAAA,KAAK,CAAC,uDAAD,EAA0D;AAC7DC,MAAAA,MAAM,EAAC,KADsD;AAE7DC,MAAAA,OAAO,EAAE;AAAC,yBAAiB,YAAYJ;AAA9B;AAFoD,KAA1D,CAAL,CAGGK,IAHH,CAGQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAHpB,EAIGF,IAJH,CAIQE,IAAI,IAAI;AACZ,UAAGA,IAAI,CAACC,MAAL,GAAY,CAAf,EAAiB;AACjB,aAAKC,QAAL,CAAc;AAACb,UAAAA,OAAO,EAACW;AAAT,SAAd;AAA+B,OAD/B,MAEI;AAAC,aAAKG,YAAL;AAAoB;AAE3B,KATF;AAUD;;AACDA,EAAAA,YAAY,GAAE;AACZ,QAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACID,IAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA2BC,OAAO,CAACC,GAAR,CAAYC,2BAAvC;AACAL,IAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA2B,YAA3B;AACJX,IAAAA,KAAK,CAAC,0DAAD,EACL;AAACC,MAAAA,MAAM,EAAC,MAAR;AACEc,MAAAA,IAAI,EAAEN;AADR,KADK,CAAL,CAGGN,IAHH,CAGQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAHpB,EAIGF,IAJH,CAIQE,IAAI,IAAI;AACZ,UAAGA,IAAI,CAACP,KAAL,IAAYkB,SAAf,EAAyB;AACtB/B,QAAAA,EAAE,CAACgC,GAAH,CAAO,OAAP,EAAiBZ,IAAI,CAACP,KAAtB;AACA,aAAKD,UAAL;AACF,OAHD,MAGM;AAAEqB,QAAAA,KAAK,CAACb,IAAI,CAACc,OAAN,CAAL;AAAoB;AACC,KATjC;AAWD;;AACDC,EAAAA,QAAQ,CAACC,EAAD,EAAI;AACVpC,IAAAA,EAAE,CAACgC,GAAH,CAAO,WAAP,EAAmBI,EAAnB;AACA,SAAKd,QAAL,CAAc;AAACZ,MAAAA,QAAQ,EAAC;AAAV,KAAd;AACD;;AAED2B,EAAAA,MAAM,GAAG;AACP,UAAM;AAAE3B,MAAAA;AAAF,QAAe,KAAKF,KAA1B;;AACA,QAAIE,QAAJ,EAAc;AACZ,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC,UAAb;AAAwB,QAAA,IAAI,EAAE;AAA9B;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;;AACA,wBACG;AAAK,MAAA,KAAK,EAAE;AAAC4B,QAAAA,SAAS,EAAC;AAAX,OAAZ;AAAA,6BACE,QAAC,SAAD;AAAW,QAAA,SAAS,EAAC,kBAArB;AAAwC,QAAA,KAAK,EAAC,IAA9C;AAAA,gCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEE,QAAC,GAAD;AAAA,oBACG,KAAK9B,KAAL,CAAWC,OAAX,CAAmB8B,GAAnB,CAAwB9B,OAAD,iBAAc,QAAC,GAAD;AAAK,YAAA,EAAE,EAAC,GAAR;AAAA,mCACpC,QAAC,IAAD;AAAA,qCACE,QAAC,QAAD;AAAW,gBAAA,KAAK,EAAE;AAAC+B,kBAAAA,eAAe,EAAE;AAAlB,iBAAlB;AAAA,2BACG/B,OAAO,CAACgC,MAAR,CAAe,CAAf,iBACH,QAAC,OAAD;AAAS,kBAAA,OAAO,EAAE,MAAI;AAAC,yBAAKN,QAAL,CAAc1B,OAAO,CAAC2B,EAAtB;AAA0B,mBAAjD;AAAmD,kBAAA,GAAG,MAAtD;AAAuD,kBAAA,KAAK,EAAC,KAA7D;AAAmE,kBAAA,KAAK,EAAE;AAACM,oBAAAA,KAAK,EAAC,GAAP;AAAWC,oBAAAA,MAAM,EAAC;AAAlB,mBAA1E;AAAkG,kBAAA,GAAG,EAAElC,OAAO,CAACgC,MAAR,CAAe,CAAf,EAAkBG,GAAzH;AAA8H,kBAAA,GAAG,EAAC;AAAlI;AAAA;AAAA;AAAA;AAAA,wBADG,gBAEA;AAAA;AAAA;AAAA;AAAA,wBAHH,eAGe,QAAC,SAAD;AAAW,kBAAA,GAAG,EAAC,IAAf;AAAA,6BAAsBnC,OAAO,CAACoC,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHf,eAIA,QAAC,SAAD;AAAW,kBAAA,GAAG,EAAC,IAAf;AAAoB,kBAAA,KAAK,EAAC,MAA1B;AAAA,qCAAsCpC,OAAO,CAACqC,KAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADoC;AAAA;AAAA;AAAA;AAAA,kBAArC;AADH;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADH;AAmBF;;AArE+C","sourcesContent":["import React from \"react\";\r\nimport { Card, CardImg, CardText, CardBody,\r\n  CardTitle, CardSubtitle,Container,Row,Button,Input,Col,Label} from 'reactstrap';\r\n  import {\r\n    Link,\r\n    Redirect\r\n  } from \"react-router-dom\";\r\n  import SecureLS from 'secure-ls';\r\n  var ls = new SecureLS({encodingType: 'aes'});\r\n  require('dotenv').config()\r\n  export default class Home extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {product:[],\r\n        navigate:false,\r\n                    };\r\n    }\r\n    componentDidMount(){\r\n      this.getProduct()\r\n     }\r\n    \r\n    getProduct(){\r\n      const token=ls.get('token')\r\n      fetch('https://www.weeklyfishclub.com/wp-json/wc/v3/products', {\r\n        method:'GET', \r\n        headers: {'Authorization': 'Bearer ' + token}})\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          if(json.length>0){\r\n          this.setState({product:json});}\r\n          else{this.getGuestUser()} \r\n        \r\n       });\r\n    }\r\n    getGuestUser(){\r\n      let formData = new FormData();\r\n          formData.append('username',process.env.REACT_APP_WORDPRESS_USER_ID);\r\n          formData.append('password','k$bxWKLRM5');\r\n      fetch('https://www.weeklyfishclub.com/wp-json/jwt-auth/v1/token', \r\n      {method:'POST', \r\n        body: formData})\r\n        .then(response => response.json())\r\n        .then(json => { \r\n          if(json.token!=undefined){\r\n             ls.set('token',  json.token)\r\n             this.getProduct()\r\n          } else{ alert(json.message)}\r\n                                      });\r\n                \r\n    }\r\n    setParam(id){\r\n      ls.set('productId',id );\r\n      this.setState({navigate:true})\r\n    }\r\n    \r\n    render() {\r\n      const { navigate } = this.state\r\n      if (navigate) {\r\n        return <Redirect to=\"/product\" push={true} />\r\n      }\r\n       return (\r\n          <div style={{marginTop:20}}>\r\n            <Container className=\"themed-container\" fluid=\"sm\" >\r\n            <h2>Fishes</h2>\r\n              <Row>\r\n                {this.state.product.map((product) =>  <Col sm=\"3\">\r\n                  <Card>\r\n                    <CardBody  style={{backgroundColor: \"#f6f6f6\"}}>\r\n                      {product.images[0]?\r\n                    <CardImg onClick={()=>{this.setParam(product.id)}} top width=\"20%\" style={{width:200,height:150}} src={product.images[0].src} alt=\"Fish\" />\r\n                      :<div></div>}<CardTitle tag=\"h5\" >{product.slug} </CardTitle>\r\n                    <CardTitle tag=\"h6\" color=\"blue\">Rs. {product.price}</CardTitle>\r\n                        \r\n                </CardBody>\r\n              </Card></Col>)}\r\n            </Row>\r\n          </Container>\r\n          </div>\r\n       );\r\n    }\r\n }\r\n\r\n "]},"metadata":{},"sourceType":"module"}