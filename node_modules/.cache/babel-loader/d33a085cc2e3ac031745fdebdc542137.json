{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nms\\\\Desktop\\\\fish\\\\openoms\\\\src\\\\components\\\\Category.js\";\nimport React from \"react\";\nimport { Button, Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Container, Row, Col, List } from 'reactstrap';\nimport SecureLS from 'secure-ls';\nimport DropdownTreeSelect from 'react-dropdown-tree-select';\nimport 'react-dropdown-tree-select/dist/styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ls = new SecureLS({\n  encodingType: 'aes'\n});\nconst token = ls.get('token');\nexport default class Category extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      category: [],\n      product: [],\n      catId: 0\n    };\n  }\n\n  componentDidMount() {\n    this.getCategory();\n  }\n\n  loop(json) {\n    let data = [];\n\n    for (var a = 0; a <= json.length - 1; a++) {\n      let tempData1 = [];\n\n      for (var b = 0; b <= json.length - 1; b++) {\n        if (json[a].id == json[b].parent) {\n          tempData1.push({\n            'value': json[b].id,\n            'label': json[b].name\n          });\n          json.splice(b, 1);\n        }\n      }\n\n      data.push({\n        'value': json[a].id,\n        'label': json[a].name,\n        'children': tempData1\n      });\n    }\n\n    console.log(\"array\", data);\n  }\n\n  getCategory() {\n    fetch('https://www.weeklyfishclub.com/wp-json/wc/v3/products/categories?hide_empty=false', {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(response => response.json()).then(json => {\n      //this.setState({category:json}); \n      this.loop(json);\n    });\n  }\n\n  getProduct(id) {\n    const token = ls.get('token');\n    const {\n      catId\n    } = this.state;\n    fetch(`https://www.weeklyfishclub.com/wp-json/wc/v3/products/?category=${id}`, {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(response => response.json()).then(json => {\n      if (json.length > 0) {//   this.setState({product:json});\n      } else {\n        this.setState({\n          product: []\n        });\n      }\n    });\n  }\n\n  render() {\n    const data = {\n      label: 'search me',\n      value: 'searchme',\n      children: [{\n        label: 'search me too',\n        value: 'searchmetoo',\n        children: [{\n          label: 'No one can get me',\n          value: 'anonymous'\n        }]\n      }]\n    };\n\n    const onChange = (currentNode, selectedNodes) => {\n      console.log('onChange::', currentNode, selectedNodes);\n    };\n\n    const onAction = (node, action) => {\n      console.log('onAction::', action, node);\n    };\n\n    const onNodeToggle = currentNode => {\n      console.log('onNodeToggle::', currentNode);\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        className: \"themed-container\",\n        fluid: \"sm\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: \"4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DropdownTreeSelect, {\n              data: this.state.category,\n              onChange: onChange,\n              onAction: onAction,\n              onNodeToggle: onNodeToggle,\n              showDropdown: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Fishes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: this.state.product.map(product => /*#__PURE__*/_jsxDEV(Col, {\n                sm: \"4\",\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  children: /*#__PURE__*/_jsxDEV(CardBody, {\n                    style: {\n                      backgroundColor: \"#f6f6f6\"\n                    },\n                    children: [product.images[0] ? /*#__PURE__*/_jsxDEV(CardImg, {\n                      onClick: () => {\n                        this.setParam(product.id);\n                      },\n                      top: true,\n                      width: \"20%\",\n                      style: {\n                        width: 200,\n                        height: 150\n                      },\n                      src: product.images[0].src,\n                      alt: \"Fish\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 21\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 24\n                    }, this), /*#__PURE__*/_jsxDEV(CardTitle, {\n                      tag: \"h5\",\n                      children: [product.slug, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(CardTitle, {\n                      tag: \"h6\",\n                      color: \"blue\",\n                      children: [\"Rs. \", product.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 55\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/nms/Desktop/fish/openoms/src/components/Category.js"],"names":["React","Button","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","Container","Row","Col","List","SecureLS","DropdownTreeSelect","ls","encodingType","token","get","Category","Component","constructor","props","state","category","product","catId","componentDidMount","getCategory","loop","json","data","a","length","tempData1","b","id","parent","push","name","splice","console","log","fetch","method","headers","then","response","getProduct","setState","render","label","value","children","onChange","currentNode","selectedNodes","onAction","node","action","onNodeToggle","marginTop","map","backgroundColor","images","setParam","width","height","src","slug","price"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Button,Card, CardImg, CardText, CardBody,\r\n  CardTitle, CardSubtitle,Container,Row,Col,List} from 'reactstrap';\r\n  import SecureLS from 'secure-ls';\r\n  import DropdownTreeSelect from 'react-dropdown-tree-select';\r\n  import 'react-dropdown-tree-select/dist/styles.css';\r\n  var ls = new SecureLS({encodingType: 'aes'});\r\n  const token=ls.get('token')\r\n  export default class Category extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {category:[],\r\n                    product:[],\r\n                    catId:0,};\r\n                   \r\n\r\n                  \r\n              }\r\n                  \r\n    \r\n    componentDidMount(){\r\n    this.getCategory()\r\n    }\r\n    loop(json){\r\n      let data=[];\r\n      for(var a=0;a<= json.length-1;a++){\r\n        let tempData1=[];\r\n      \r\n              for(var b=0;b<= json.length-1;b++){\r\n               \r\n                    if(json[a].id==json[b].parent){\r\n                        \r\n                                tempData1.push({'value':json[b].id,\r\n                                                'label':json[b].name,\r\n                                                })\r\n                            json.splice(b, 1); \r\n                    }\r\n                  \r\n                }\r\n\r\n        data.push({'value':json[a].id,\r\n                    'label':json[a].name,\r\n                    'children':tempData1,\r\n                    })\r\n        \r\n       }\r\n       console.log(\"array\",data) \r\n    }\r\n    getCategory(){\r\n      \r\n      fetch('https://www.weeklyfishclub.com/wp-json/wc/v3/products/categories?hide_empty=false', \r\n        { method:'GET', \r\n          headers: {'Authorization': 'Bearer ' + token}})\r\n        .then(response => response.json())\r\n        .then(json => { //this.setState({category:json}); \r\n        \r\n        this.loop(json)\r\n       });\r\n    }\r\n    getProduct(id){\r\n      const token=ls.get('token')\r\n      const {catId}=this.state;\r\n      \r\n      fetch(`https://www.weeklyfishclub.com/wp-json/wc/v3/products/?category=${id}`, {\r\n        method:'GET', \r\n        headers: {'Authorization': 'Bearer ' + token}})\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          if(json.length>0){\r\n            \r\n     \r\n          //   this.setState({product:json});\r\n            }\r\n          else{this.setState({product:[]});} \r\n        \r\n       });\r\n    }\r\n    \r\n    render() {\r\n      const data = {\r\n        label: 'search me',\r\n        value: 'searchme',\r\n        children: [\r\n          {\r\n            label: 'search me too',\r\n            value: 'searchmetoo',\r\n            children: [\r\n              {\r\n                label: 'No one can get me',\r\n                value: 'anonymous',\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      }\r\n      const onChange = (currentNode, selectedNodes) => {\r\n        console.log('onChange::', currentNode, selectedNodes)\r\n      }\r\n      const onAction = (node, action) => {\r\n        console.log('onAction::', action, node)\r\n      }\r\n      const onNodeToggle = currentNode => {\r\n        console.log('onNodeToggle::', currentNode)\r\n      }\r\n       return (\r\n          <div style={{marginTop:20}}>\r\n            <Container className=\"themed-container\" fluid=\"sm\" >\r\n           <Row>\r\n            <Col md=\"4\">\r\n            \r\n              <h5>Category</h5>\r\n              <DropdownTreeSelect\r\n                            data={this.state.category} \r\n                            onChange={onChange}\r\n                            onAction={onAction} \r\n                            onNodeToggle={onNodeToggle} \r\n                            showDropdown={false}\r\n                            />\r\n            </Col>\r\n              <Col>\r\n              <h5>Fishes</h5><Row>\r\n             \r\n                {this.state.product.map((product) =>  <Col sm=\"4\">\r\n                \r\n                  <Card>\r\n                    <CardBody  style={{backgroundColor: \"#f6f6f6\"}}>\r\n                      {product.images[0]?\r\n                    <CardImg onClick={()=>{this.setParam(product.id)}} top width=\"20%\" style={{width:200,height:150}} src={product.images[0].src} alt=\"Fish\" />\r\n                      :<div></div>}\r\n                      <CardTitle tag=\"h5\" >{product.slug} </CardTitle>\r\n                    <CardTitle tag=\"h6\" color=\"blue\">Rs. {product.price}</CardTitle>\r\n                        \r\n                </CardBody>\r\n              </Card></Col>)}\r\n              </Row>\r\n            </Col>\r\n            </Row>\r\n          </Container>\r\n          </div>\r\n       );\r\n    }\r\n }\r\n\r\n "]},"metadata":{},"sourceType":"module"}